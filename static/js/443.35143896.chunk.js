"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[443],{5889:function(e,n,r){r.d(n,{zb:function(){return g},ox:function(){return b},Gr:function(){return _},fo:function(){return Z}});var t=r(1413),s=r(5987),i=r(4587),a=r(9498),c=r(6023),o=r(6139),u="FormControls_checkboxControl__33VzZ",l="FormControls_formControl__Bze--",d="FormControls_error__rGNdT",m="FormControls_errorText__5Si0-",f="FormControls_fieldWrap__e7QgK",h="FormControls_labelTextWrap__nPV0n",x=r(5705),v=r(184),p=["input","meta","fieldType"],j=["field","form","fieldType"],b=function(e){var n=e.input,r=e.meta,o=r.touched,u=r.error,x=e.fieldType,j=(0,s.Z)(e,p),b=o&&u;return(0,v.jsxs)("div",{className:l+" "+(b?d:""),children:[j.label&&"checkbox"!==j.type&&(0,v.jsx)("div",{className:"".concat(h),children:(0,v.jsx)("label",{htmlFor:j.id||"",children:j.label})}),(0,v.jsx)("div",{className:f,children:"input"===x?"checkbox"===j.type?(0,v.jsx)(i.Z,(0,t.Z)((0,t.Z)((0,t.Z)({},n),j),{},{children:j.label})):(0,v.jsx)(a.Z,(0,t.Z)((0,t.Z)({},n),j)):(0,v.jsx)(c.Z,(0,t.Z)((0,t.Z)({},n),j))}),b?(0,v.jsx)("div",{className:m,children:(0,v.jsx)("span",{children:u})}):""]})};function _(e,n,r,s,i){var a=i.wrapClasses||"";return i.type&&"checkbox"===i.type&&(a+=u),(0,v.jsx)("div",{className:a,children:(0,v.jsx)(o.Z,(0,t.Z)({placeholder:e,name:n,validate:r,component:s},i))})}var g=function(e){var n,r=e.field,o=e.form,u=o.touched,x=o.errors,p=e.fieldType,b=(0,s.Z)(e,j),_=u[r.name]&&x[r.name];return(0,v.jsxs)("div",{className:l+" "+(_?d:""),children:[b.label&&"checkbox"!==b.type&&(0,v.jsx)("div",{className:"".concat(h),children:(0,v.jsx)("label",{htmlFor:b.id||"",children:b.label})}),(0,v.jsx)("div",{className:f,children:"input"===p?"checkbox"===b.type?(0,v.jsx)(i.Z,(0,t.Z)((0,t.Z)((0,t.Z)({},r),b),{},{children:b.label})):(0,v.jsx)(a.Z,(0,t.Z)((0,t.Z)({},r),b)):(0,v.jsx)(c.Z,(0,t.Z)((0,t.Z)({},r),b))}),u[r.name]&&x[r.name]&&(0,v.jsx)("div",{className:m,children:(0,v.jsx)("p",{children:null===(n=x[r.name])||void 0===n?void 0:n.toString()})})]})};function Z(e,n,r,s,i){var a=i.wrapClasses||"";return i.type&&"checkbox"===i.type&&(a+=u),(0,v.jsx)("div",{className:a,children:(0,v.jsx)(x.gN,(0,t.Z)({placeholder:e,name:n,validate:r,component:s},i))})}},8443:function(e,n,r){r.r(n),r.d(n,{ChatPage:function(){return N}});var t=r(2791),s=r(8687),i=r(5021),a=r(3707),c=r(5705),o=r(6061),u=function(e){return e.chat.messages},l=function(e){return e.chat.status},d=r(4972),m=r(5889),f={submitWrap:"Chat_submitWrap__X9GjQ",messages:"Chat_messages__UMxjL",message:"Chat_message__ySW5b",formWrap:"Chat_formWrap__bLwHc"},h=r(184),x=function(){var e=(0,s.I0)(),n=(0,s.v9)(l),r=function(r,t){var s;n===WebSocket.OPEN?(e((0,i.bG)(r.message)),t.setSubmitting(!1),t.resetForm()):(s="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0435 \u0443\u0434\u0430\u0451\u0442\u0441\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443!",new Promise((function(e,n){n({message:s})})))},u=function(n){e(i.D8.setStatus(n))};return(0,t.useEffect)((function(){var e=o.R2.subscribe("statusChanged",u);return function(){e()}})),(0,h.jsxs)("div",{className:f.formWrap,children:[(0,h.jsx)("h2",{children:"Send message"}),(0,h.jsx)(c.J9,{initialValues:{message:""},onSubmit:r,children:function(e){var t=e.values,s=e.setSubmitting,i=e.resetForm;return(0,h.jsxs)(c.l0,{onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),r(t,{setSubmitting:s,resetForm:i}))},children:[(0,h.jsx)("div",{children:(0,m.fo)("Write text here..","message",[d.C],m.zb,{fieldType:"textarea"})}),(0,h.jsx)("div",{className:f.submitWrap,children:(0,h.jsx)(a.Z,{disabled:n!==WebSocket.OPEN,type:"primary",htmlType:"submit",children:"Send"})})]})}})]})},v=r(1413),p=r(7734),j=r(8478),b=function(){var e=(0,t.useRef)(null),n=(0,s.v9)(u);return(0,t.useEffect)((function(){var n;null===(n=e.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[e,n]),(0,h.jsxs)("div",{className:f.messages,children:[n.map((function(e,n){return(0,h.jsx)(_,(0,v.Z)({},e),n)})),(0,h.jsx)("div",{className:f.chatBottom,ref:e})]})},_=function(e){var n=e.photo||j;return(0,h.jsxs)("div",{className:f.message,children:[(0,h.jsxs)("div",{className:f.messageHead,children:[(0,h.jsx)(p.C,{src:n})," ",(0,h.jsx)("span",{className:f.userName,children:e.userName})]}),(0,h.jsx)("div",{className:f.messageBody,children:e.message})]})},g=function(){var e=(0,s.I0)();return(0,t.useEffect)((function(){return e((0,i.WE)()),function(){e((0,i.R7)())}}),[e]),(0,h.jsxs)("div",{children:[(0,h.jsx)(b,{}),(0,h.jsx)(x,{})]})},Z=r(3580),N=function(){return(0,Z.Q)(),(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"Chat"}),(0,h.jsx)(g,{})]})}},3631:function(e,n,r){r.d(n,{kb:function(){return i},mi:function(){return s},xl:function(){return t}});var t=function(e){return e.profilePage.profile},s=function(e){return e.profilePage.status},i=function(e){return e.auth}},3580:function(e,n,r){r.d(n,{Q:function(){return c}});var t=r(8687),s=r(2791),i=r(6871),a=r(3631),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login",n=(0,t.v9)(a.kb),r=(0,i.s0)();return(0,s.useEffect)((function(){if(!1===n.isAuth)return r(e)}),[n,r,e]),n}},4972:function(e,n,r){r.d(n,{B:function(){return s},C:function(){return t}});var t=function(e){if(!e||""===e)return"It is required field!"},s=function(e){return function(n){if(n&&n.length>e)return"You have exceeded the maximum message length(".concat(e,")")}}}}]);
//# sourceMappingURL=443.35143896.chunk.js.map