{"version":3,"file":"static/js/530.acf66f1c.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://my-app/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","webpack://my-app/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileData.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/ProfilePage.tsx","webpack://my-app/./src/components/common/FormControls/FormControls.module.css?7a3d","components/common/FormControls/FormControls.tsx","redux/profile-selectors.ts","utils/hooks/useRequireAuth.ts","utils/validators/validators.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\",\"likesCount\":\"Post_likesCount__LXQiZ\",\"imgWrap\":\"Post_imgWrap__urp8h\",\"messageBody\":\"Post_messageBody__D9bTr\"};","import s from \"./Post.module.css\";\nimport userPhoto from \"../../../../assets/images/user.jpg\";\nimport { FC } from \"react\";\nimport { TPost } from \"../../../../types/types\";\n\nconst Post: FC<TPost> = (props) => {\n\n  return (\n    <div className={s.item}>\n      <div className={s.imgWrap} ><img src={userPhoto} alt={'author img'} /></div>\n      <div className={s.messageBody}>{props.message}</div>\n      <div>\n        <span className={s.likesCount} >{props.likesCount} like(s)</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import { Button } from \"antd\";\nimport React, { FC } from \"react\";\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\nimport { TPost } from \"../../../types/types\";\nimport { maxLength, required } from \"../../../utils/validators/validators\";\nimport { createField, InputArea } from \"../../common/FormControls/FormControls\";\nimport s from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post\";\n\nlet maxLength300 = maxLength(300)\n\ntype TProps = {\n  posts: Array<TPost>\n  sendPost: (newPostBody: string) => void\n}\n\nconst MyPosts = React.memo<TProps>((props) => {\n  \n  let postsElements = props.posts.map(p => <Post key={p.id} id={p.id} message={p.message} likesCount={p.likesCount} /> );\n\n  let onSubmit = (formData: TFormData) => {\n    props.sendPost(formData.newPostBody);  \n  };\n\n  return (\n    <div className={s.postsBlock}>\n      <h3>My Posts</h3>\n      <AddPostFormRedux onSubmit={onSubmit} />\n      <div className={s.posts}>\n         { postsElements }\n      </div>\n    </div>\n  );\n});\n\ntype TFormData = {\n  newPostBody: string\n}\n\ntype TOwnProps = {\n  onSubmit: (FormData: any) => void\n}\n\ntype TFormProps = TOwnProps & InjectedFormProps<TFormData,TOwnProps>\n\nconst AddPostForm: FC<TFormProps> = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit} >\n\n      { createField<TFormData>('Write your message here..', 'newPostBody', [required, maxLength300], InputArea, {fieldType: 'textarea'}) }\n\n      <div className=\"submitBlock\">\n        <Button type=\"primary\" htmlType=\"submit\" >Add post</Button>\n      </div>\n    </form>\n  )\n}\n\nconst AddPostFormRedux = reduxForm<TFormData, TOwnProps>({ form: \"ProfileAddPostForm\" })(AddPostForm);\n\nexport default MyPosts;\n","import { connect } from \"react-redux\";\nimport {profileAC, sendPost } from \"../../../redux/profile-reducer\";\nimport { TAppState } from \"../../../redux/redux-store\";\nimport { TPost } from \"../../../types/types\";\nimport MyPosts from \"./MyPosts\";\n\ntype TMapStateProps = {\n  posts: Array<TPost>\n  newPostText: string\n}\n\ntype TMapDispatchProps = {\n  updateNewPostText: (newPostText: string) => void\n  sendPost: (formData: any) => void\n}\n\nlet mapStateToProps = (state: TAppState) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  };\n}\n\nlet MapDispatchToProps = {\n  updateNewPostText: profileAC.updateNewPostText, \n  sendPost\n}\n\nconst MyPostsContainer = connect<TMapStateProps, TMapDispatchProps, {}, TAppState> (mapStateToProps, MapDispatchToProps) (MyPosts);\n\nexport default MyPostsContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"ProfileInfo_image__Kkyc5\",\"avatar\":\"ProfileInfo_avatar__1VFcV\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\",\"aboutItem\":\"ProfileInfo_aboutItem__J2FXl\",\"aboutTitle\":\"ProfileInfo_aboutTitle__zMikE\",\"contactsBlock\":\"ProfileInfo_contactsBlock__cVFdA\",\"contactList\":\"ProfileInfo_contactList__7p7ua\",\"description\":\"ProfileInfo_description__u7GZ5\",\"fullName\":\"ProfileInfo_fullName__3fR7R\",\"updateAvatarBtn\":\"ProfileInfo_updateAvatarBtn__PZG2t\",\"ownerImage\":\"ProfileInfo_ownerImage__bj3Hg\",\"startChatWrap\":\"ProfileInfo_startChatWrap__8wLSp\",\"profileDataForm\":\"ProfileInfo_profileDataForm__b+zKy\",\"form\":\"ProfileInfo_form__OSgA8\",\"fieldItem\":\"ProfileInfo_fieldItem__bAs7p\",\"editDataWrap\":\"ProfileInfo_editDataWrap__hRuvJ\",\"saveDataWrap\":\"ProfileInfo_saveDataWrap__ij-9O\",\"contactFieldWrap\":\"ProfileInfo_contactFieldWrap__-jneh\",\"errors\":\"ProfileInfo_errors__dIyFr\"};","import { ChangeEvent, FC, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { TProfileActions, updateStatus } from \"../../../redux/profile-reducer\";\nimport { TAppState } from \"../../../redux/redux-store\";\nimport s from \"./ProfileInfo.module.css\";\n\nexport type TProps = {\n  status: string\n}\n\nconst ProfileStatusWithHooks: FC<TProps> = (props) => {\n    let [editMode,setEditMode] = useState(false)\n    let [status,setStatus] = useState(props.status)\n    \n    const dispatch = useDispatch<ThunkDispatch<TAppState, unknown, TProfileActions>>();\n\n    useEffect(() => {\n        setStatus(props.status)\n    },[props.status])\n\n    const activateMode = () => {\n        setEditMode(true)\n    }\n\n    const deactivateMode = () => {\n        setEditMode(false)\n        dispatch(updateStatus(status))\n    }\n\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n\n        setStatus(e.currentTarget.value)\n    }\n\n    return (\n    <div className={s.statusBlock}>\n      {editMode ? (\n        <div>\n          <input\n            autoFocus={true}\n            onBlur={ deactivateMode }\n            onChange={ onStatusChange }\n            type=\"text\"\n            value={status}\n          />\n        </div>\n      ) : (\n        <div>\n          <span onDoubleClick={ activateMode } >{status}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import { FC } from \"react\"\nimport { TContacts, TProfile } from \"../../../types/types\"\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\"\nimport s from \"./ProfileInfo.module.css\";\nimport { Button } from \"antd\";\n\ntype TProps = {\n    profile: TProfile\n    status: string\n    isOwner: boolean\n    activateProfileEditMode: () => void\n  }\n  \nconst ProfileData: FC<TProps> = ({profile, status, isOwner, activateProfileEditMode}) => {\n  \n    let availableContacts = Object.keys(profile.contacts).filter((k) => { return profile.contacts[k as keyof TContacts]  })\n  \n    return (\n      <div className={s.description}>\n        {isOwner && (\n          <div className={s.editDataWrap}>\n            <Button type=\"primary\" onClick={activateProfileEditMode}>Edit</Button>\n          </div>\n        )}\n        <div className={s.aboutItem}>\n          <div className={s.fullName}>{profile.fullName}</div>\n        </div>\n        <div className={s.aboutItem}>\n          <ProfileStatusWithHooks status={status} />\n        </div>\n        <div className={s.aboutItem}>\n          <span className={s.aboutTitle}>About me: </span>\n          {profile.aboutMe ? profile.aboutMe : \"-\"}\n        </div>\n        <div className={s.aboutItem}>\n          <span className={s.aboutTitle}>Looking for a job:</span>\n          {profile.lookingForAJob ? \"yes\" : \"no\"}\n        </div>\n        <div className={s.aboutItem}>\n          <div className={s.aboutTitle}>My professional skills:</div>\n          {profile.lookingForAJobDescription\n            ? profile.lookingForAJobDescription\n            : \"-\"}\n        </div>\n        {availableContacts.length > 0 && (\n          <div className={s.aboutItem}>\n            <div className={s.aboutTitle}>Контакты: </div>\n            <ul className={s.contactList}>\n              {availableContacts.map(function (title) {\n                return (\n                  <Contact\n                    key={title}\n                    contactTitle={title}\n                    contactValue={profile.contacts[title as keyof TContacts]}\n                  />\n                );\n              })}\n            </ul>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  type TContactProps = {\n  contactTitle: string\n  contactValue: string\n}\n\nconst Contact: FC<TContactProps> = ({contactTitle, contactValue}) => {\n  return (\n    <li>\n      <span className={s.aboutTitle}>{contactTitle}:</span>\n      <a href={`${contactValue}`} target=\"_blank\" rel=\"noreferrer\" >\n        {`${contactValue}`}\n      </a>\n    </li>\n  );\n}\n\nexport default ProfileData","import { Button } from \"antd\";\nimport { FC } from \"react\";\nimport { Field, InjectedFormProps } from \"redux-form\";\nimport { reduxForm } from \"redux-form\";\nimport { TContacts, TProfile } from \"../../../types/types\";\nimport { createField, InputArea } from \"../../common/FormControls/FormControls\";\nimport s from \"./ProfileInfo.module.css\";\n\ntype TFormData = TProfile\n\ntype TContactsNames = Array<keyof TContacts & string>\n\ntype TOwnProps = {\n  profile: TProfile\n  initialValues: TProfile\n  onSubmit: (formData: any) => void\n}\n\ntype TProps = TOwnProps & InjectedFormProps<TFormData,TOwnProps>\n\nexport const ProfileDataForm: FC<TProps> = (props) => {\n\n  let contacts  = Object.keys(props.profile.contacts) as TContactsNames\n  \n  return (\n    <form onSubmit={props.handleSubmit} className={`${s.form} ${s.profileDataForm}` }>\n      <div className={s.saveDataWrap}>\n        <Button type=\"primary\" htmlType=\"submit\" >Save</Button>\n      </div>\n\n      {props.error && <div className={s.errors} > {props.error}</div>}\n\n      <div className={s.fieldItem}>\n      <Field name=\"fullName\" component=\"input\" type=\"text\" placeholder=\"Full Name\"/>\n      </div>\n\n      <div className={s.fieldItem}>\n        { createField<TFormData>('About me', 'aboutMe', [], InputArea, {type: 'text', fieldType: 'textarea', 'label': 'About me'}) }\n      </div>\n\n      <div className={s.fieldItem}>\n      { createField<TFormData>(null, \n                    'lookingForAJob', \n                    [], \n                    InputArea, \n                    {type: 'checkbox', fieldType: 'input', label: 'Looking for a job', 'id': 'lookingForAJob' } ) \n      }\n      </div>\n\n      <div className={s.fieldItem}>\n        { createField<TFormData>('Details', 'lookingForAJobDescription', [], InputArea, {type: 'text', fieldType: 'textarea', 'label': 'My professional skills'}) }\n      </div>\n      <div className={s.aboutItem}>\n        <div className={s.aboutTitle}>Contacts: </div>\n        <div className={s.contactList}>\n          {contacts.map( (title) => {\n              return (\n                <div key={title} className={s.contactFieldWrap}>\n                  {createField<TFormData>(\n                    title,\n                    `contacts.${title}`,\n                    [],\n                    InputArea,\n                    { type: \"text\", fieldType: \"input\", label: title }\n                  )}\n                </div>\n              );\n          })}\n        </div>\n      </div>\n      \n\n\n    </form>\n  );\n};\n\nconst ProfileDataReduxForm = reduxForm<TFormData,TOwnProps>({ form: \"edit-profile\", enableReinitialize: true, destroyOnUnmount: false })(ProfileDataForm);\n\nexport default ProfileDataReduxForm;\n","import { ChangeEvent, FC, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport defaultPhoto from \"../../../assets/images/user.jpg\";\nimport { savePhoto, saveProfile, TProfileActions } from \"../../../redux/profile-reducer\";\nimport { sGetStatus } from \"../../../redux/profile-selectors\";\nimport { TAppState } from \"../../../redux/redux-store\";\nimport { TProfile } from \"../../../types/types\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport MyPostsContainer from \"../MyPosts/MyPostsContainer\";\nimport ProfileData from \"./ProfileData\";\nimport ProfileDataForm from \"./ProfileDataForm\";\nimport s from \"./ProfileInfo.module.css\";\n\ntype TProps = {\n  profile: TProfile | null\n  isOwner: boolean\n}\n\nconst ProfileInfo: FC<TProps> = ({profile, isOwner }) => {\n\n  const status  = useSelector(sGetStatus)\n\n  const dispatch = useDispatch<ThunkDispatch<TAppState, unknown, TProfileActions>>();\n\n  const inputFileRef = useRef<HTMLInputElement>(null)\n\n  let [editMode,setEditMode] = useState(false)\n\n  if (!profile) {\n    return <Preloader />;\n  }\n\n  const onMainPhotoClicked = () => {\n    if (inputFileRef.current !== null) {\n      inputFileRef.current.click()\n    }\n  }\n\n  const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\n    if(e.target.files?.length) {\n      dispatch(savePhoto(e.target.files[0]))\n    }\n  }\n  const activateProfileEditMode = () => {\n    setEditMode(true)\n  }\n\n  const onSubmit = (formData: TProfile) => {\n    dispatch(saveProfile(formData)).then(() => setEditMode(false) )\n  };\n\n\n  return (\n    <div>\n      <div className={s.descriptionBlock}>\n        <div>\n          <img className={s.avatar + (isOwner ? ` ${s.ownerImage}` : '') } \n               src={profile.photos.large != null ? profile.photos.large : defaultPhoto} \n               alt={'Profile avatar'}\n               title={isOwner ? 'Click for uploading' : ''} \n               onClick={onMainPhotoClicked} />\n          {isOwner && (\n              <input className={s.updateAvatarBtn} ref={inputFileRef} type={'file'} onChange={onMainPhotoSelected} />\n            )\n          }\n        </div>\n        \n        {!isOwner && (\n            <div className={s.startChatWrap}>\n              <NavLink to={`/dialogs/${profile.userId}`} >Send message</NavLink>\n            </div>\n          )\n        }\n\n        {editMode \n            ? <ProfileDataForm initialValues={profile}\n                               profile={profile}\n                               onSubmit={onSubmit} />\n            : <ProfileData profile={profile} \n                           status={status} \n                           isOwner={isOwner}\n                           activateProfileEditMode={activateProfileEditMode} />\n        }\n\n        { isOwner && !editMode && <MyPostsContainer /> }\n\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import { FC, useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { getUserProfile, getUserStatus, TProfileActions } from \"../../redux/profile-reducer\";\nimport { sGetProfile } from \"../../redux/profile-selectors\";\nimport { TAppState } from \"../../redux/redux-store\";\nimport { useRequireAuth } from \"../../utils/hooks/useRequireAuth\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nexport const ProfilePage:FC  = () =>  {\n\n  const profile = useSelector(sGetProfile)\n  const auth = useRequireAuth()\n\n  const dispatch = useDispatch<ThunkDispatch<TAppState, unknown, TProfileActions>>();\n\n  const params = useParams();\n\n  const navigate = useNavigate();\n\n  let userId = null as number | null \n  if(params.userId) {\n    userId = parseInt(params.userId)\n  }\n  else if(auth.userId) {\n    userId = auth.userId\n  }\n\n  const getProfileData = useCallback( (userId: number) => {\n    dispatch(getUserProfile(userId))\n    dispatch(getUserStatus(userId))\n  },[dispatch])\n\n  useEffect(() => {\n    if(userId) {\n      getProfileData(userId)\n    }\n    else {\n      navigate('/login')\n    }\n  },[userId, getProfileData, navigate])\n  \n\n    return (\n      <>\n      {\n        profile \n          ? <div>\n              <ProfileInfo isOwner={!params.userId} \n                           profile={profile} />\n            </div>\n          : <div>Нет данных для отображения</div>\n      }\n\n      </>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"checkboxControl\":\"FormControls_checkboxControl__33VzZ\",\"formControl\":\"FormControls_formControl__Bze--\",\"error\":\"FormControls_error__rGNdT\",\"errorText\":\"FormControls_errorText__5Si0-\",\"fieldWrap\":\"FormControls_fieldWrap__e7QgK\",\"labelCheckboxWrap\":\"FormControls_labelCheckboxWrap__kXX0d\",\"labelTextWrap\":\"FormControls_labelTextWrap__nPV0n\"};","import { Checkbox, Input } from 'antd';\nimport TextArea from 'antd/lib/input/TextArea';\nimport { Component, FC } from 'react';\nimport { Field, WrappedFieldInputProps, WrappedFieldMetaProps } from \"redux-form\";\nimport { NestedKeyOf } from '../../../types/types';\nimport { FieldValidatorType } from \"../../../utils/validators/validators\";\nimport s from \"./FormControls.module.css\";\nimport { Field as FormikField, FieldProps } from \"formik\";\n\ntype PropsType = {\n  input: WrappedFieldInputProps\n  meta: WrappedFieldMetaProps\n  fieldType: string\n  id?: string\n  label?: string \n  type: 'textarea' | 'input' | 'checkbox' \n}\n\nexport const InputArea: FC<PropsType> = ({ input, meta: {touched, error}, fieldType, ...props }) => {\n  const hasError = touched && error;\n  return (\n    <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n      {props.label && props.type !== \"checkbox\" && (\n        <div className={`${s.labelTextWrap}`}>\n          <label htmlFor={props.id || \"\"}>{props.label}</label>\n        </div>\n      )}\n      \n      <div className={s.fieldWrap}>\n        {fieldType === \"input\" \n         ? props.type === \"checkbox\" \n              ? <Checkbox  {...input} {...props} >{props.label}</Checkbox> \n              : <Input {...input} {...props} />\n         : (\n          <TextArea {...input} {...props} />\n        )}\n      </div>\n\n      {hasError ? (\n        <div className={s.errorText}>\n          <span>{error}</span>\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport function  createField<TFormData extends object>(\n  placeholder: string | null,\n  name: NestedKeyOf<TFormData>,\n  validators: Array<FieldValidatorType>,\n  component: string | Component<any,any,any> | FC<any>,\n  props: any\n)\n{\n  let wrapClasses = props.wrapClasses || \"\";\n\n  if (props.type && props.type === \"checkbox\") {\n    wrapClasses += s.checkboxControl;\n  }\n\n  return (\n    <div className={wrapClasses}>\n      <Field\n        placeholder={placeholder}\n        name={name}\n        validate={validators}\n        component={component}\n        {...props}\n      />\n    </div>\n  );\n};\n\ntype FormikPropsType = {\n  fieldType: string\n  id?: string\n  label?: string \n  type: 'textarea' | 'input' | 'checkbox' \n}\n\n\n\nexport const FormikInputArea: FC<FormikPropsType & FieldProps> = ({ field, form: {touched, errors}, fieldType, ...props }) => {\n  const hasError = touched[field.name] && errors[field.name]\n  return (\n    <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n      {props.label && props.type !== \"checkbox\" && (\n        <div className={`${s.labelTextWrap}`}>\n          <label htmlFor={props.id || \"\"}>{props.label}</label>\n        </div>\n      )}\n      \n      <div className={s.fieldWrap}>\n        {fieldType === \"input\" \n         ? props.type === \"checkbox\" \n              ? <Checkbox  {...field} {...props} >{props.label}</Checkbox> \n              : <Input {...field} {...props} />\n         : (\n          <TextArea {...field} {...props} />\n        )}\n      </div>\n\n      {touched[field.name] && errors[field.name] &&  (\n        <div className={s.errorText}>\n          <p>{ errors[field.name]?.toString() }</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n\nexport function  createFormikField<TFormData extends object>(\n  placeholder: string | null,\n  name: NestedKeyOf<TFormData>,\n  validators: Array<FieldValidatorType>,\n  component: string | Component<any,any,any> | FC<any>,\n  props: any\n)\n{\n  let wrapClasses = props.wrapClasses || \"\";\n\n  if (props.type && props.type === \"checkbox\") {\n    wrapClasses += s.checkboxControl;\n  }\n\n  return (\n    <div className={wrapClasses}>\n      <FormikField\n        placeholder={placeholder}\n        name={name}\n        validate={validators}\n        component={component}\n        {...props}\n      />\n    </div>\n  );\n};","import { TAppState } from './redux-store';\n\nexport const  sGetProfile = (state: TAppState) => {\n    return state.profilePage.profile\n}\n\nexport const  sGetStatus = (state: TAppState) => {\n    return state.profilePage.status\n}\n\nexport const sGetAuth = (state: TAppState) => {\n    return state.auth\n}","import { useSelector } from 'react-redux';\n// Hook (use-require-auth.js)\nimport { useEffect } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { sGetAuth } from '../../redux/profile-selectors';\n\n\n\nexport const useRequireAuth = (redirectUrl = '/login') => {\n  const auth = useSelector(sGetAuth);\n  let navigate = useNavigate();\n\n  useEffect(() => {\n    if (auth.isAuth === false) {\n      return navigate(redirectUrl);\n    }\n  }, [auth, navigate, redirectUrl]);\n\n  return auth;\n}","export type FieldValidatorType = (field: string) => string | undefined\n\nexport const required: FieldValidatorType = (value: string): string | undefined => {\n    if(value && value !== '') {\n        return undefined\n    }\n\n    return 'It is required field!'\n}\n\nexport const maxLength = (maxLengthValue: number): FieldValidatorType => {\n    return (value) => {\n        if(value && value.length > maxLengthValue) {\n            return `You have exceeded the maximum message length(${maxLengthValue})`\n        }\n        \n        return undefined\n    }\n}"],"names":["props","className","s","src","userPhoto","alt","message","likesCount","maxLength300","maxLength","MyPosts","React","postsElements","posts","map","p","id","AddPostFormRedux","onSubmit","formData","sendPost","newPostBody","reduxForm","form","handleSubmit","createField","required","InputArea","fieldType","type","htmlType","MapDispatchToProps","updateNewPostText","profileAC","connect","state","profilePage","newPostText","useState","editMode","setEditMode","status","setStatus","dispatch","useDispatch","useEffect","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","value","onDoubleClick","Contact","contactTitle","contactValue","href","target","rel","profile","isOwner","activateProfileEditMode","availableContacts","Object","keys","contacts","filter","k","onClick","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","length","title","enableReinitialize","destroyOnUnmount","error","Field","name","component","placeholder","label","useSelector","sGetStatus","inputFileRef","useRef","Preloader","photos","large","defaultPhoto","current","click","ref","files","savePhoto","to","userId","initialValues","saveProfile","then","ProfilePage","sGetProfile","auth","useRequireAuth","params","useParams","navigate","useNavigate","parseInt","getProfileData","useCallback","getUserProfile","getUserStatus","input","meta","touched","hasError","htmlFor","TextArea","validators","wrapClasses","validate","FormikInputArea","field","errors","toString","createFormikField","sGetAuth","redirectUrl","isAuth","maxLengthValue"],"sourceRoot":""}