"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[815],{5815:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var r=s(5671),o=s(3144),n=s(136),a=s(5716),i=s(8683),l=s(8687),u=s(6070),c=s(2791),d=s(704),p=s(5304),f=s(816),h={postsBlock:"MyPosts_postsBlock__lB-pf",posts:"MyPosts_posts__GSiZ2"},m="Post_item__Yu4oG",x="Post_likesCount__LXQiZ",_=s(184),j=function(t){return(0,_.jsxs)("div",{className:m,children:[(0,_.jsx)("img",{src:"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_960_720.png",alt:"author img"}),t.message,(0,_.jsx)("div",{children:(0,_.jsxs)("span",{className:x,children:[t.likesCount," like(s)"]})})]})},v=(0,p.B)(300),g=c.memo((function(t){var e=t.posts.map((function(t){return(0,_.jsx)(j,{className:h.post,message:t.message,likesCount:t.likesCount},t.id)}));return(0,_.jsxs)("div",{className:h.postsBlock,children:[(0,_.jsx)("h3",{children:"My Posts"}),(0,_.jsx)(P,{onSubmit:function(e){t.sendPost(e.newPostBody)}}),(0,_.jsx)("div",{className:h.posts,children:e})]})})),P=(0,d.Z)({form:"ProfileAddPostForm"})((function(t){return(0,_.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.G)("Write your message here..","newPostBody",[p.C,v],f.o,{fieldType:"textarea"}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{children:"Add post"})})]})})),b=g,N=(0,l.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{updateNewPostText:u.x1,sendPost:u.D2})(b),k=s(8911),I=s(8478),C={image:"ProfileInfo_image__Kkyc5",avatar:"ProfileInfo_avatar__1VFcV",descriptionBlock:"ProfileInfo_descriptionBlock__XBXuJ",aboutItem:"ProfileInfo_aboutItem__J2FXl",aboutTitle:"ProfileInfo_aboutTitle__zMikE",contactsBlock:"ProfileInfo_contactsBlock__cVFdA",contactList:"ProfileInfo_contactList__7p7ua",description:"ProfileInfo_description__u7GZ5",fullName:"ProfileInfo_fullName__3fR7R",updateAvatarBtn:"ProfileInfo_updateAvatarBtn__PZG2t",ownerImage:"ProfileInfo_ownerImage__bj3Hg",startChatWrap:"ProfileInfo_startChatWrap__8wLSp"},Z=s(3504),y=s(885),B=function(t){var e=(0,c.useState)(!1),s=(0,y.Z)(e,2),r=s[0],o=s[1],n=(0,c.useState)(t.status),a=(0,y.Z)(n,2),i=a[0],l=a[1];(0,c.useEffect)((function(){l(t.status)}),[t.status]);return(0,_.jsx)("div",{className:C.statusBlock,children:r?(0,_.jsx)("div",{children:(0,_.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(i)},onChange:function(t){l(t.currentTarget.value)},type:"text",value:i})}):(0,_.jsx)("div",{children:(0,_.jsx)("span",{onDoubleClick:function(){o(!0)},children:i})})})},S=function(t){var e=t.profile,s=t.status,r=t.updateStatus,o=t.isOwner,n=t.savePhoto,a=c.useRef(null);if(!e)return(0,_.jsx)(k.Z,{});var i=Object.keys(e.contacts).filter((function(t){return e.contacts[t]}));return(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:C.descriptionBlock,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("img",{className:C.avatar+(o?" ".concat(C.ownerImage):""),src:null!=e.photos.large?e.photos.large:I,alt:"Profile avatar",title:o?"Click for uploading":"",onClick:function(){a.current.click()}}),o&&(0,_.jsx)("input",{className:C.updateAvatarBtn,ref:a,type:"file",onChange:function(t){t.target.files.length&&n(t.target.files[0])}})]}),!o&&(0,_.jsx)("div",{className:C.startChatWrap,children:(0,_.jsx)(Z.OL,{to:"/dialogs/".concat(e.userId),children:"Send message"})}),(0,_.jsxs)("div",{className:C.description,children:[(0,_.jsx)("div",{className:C.aboutItem,children:(0,_.jsx)("div",{className:C.fullName,children:e.fullName})}),(0,_.jsx)("div",{className:C.aboutItem,children:(0,_.jsx)(B,{status:s,updateStatus:r})}),(0,_.jsxs)("div",{className:C.aboutItem,children:[(0,_.jsx)("span",{className:C.aboutTitle,children:"\u041e\u0431\u043e \u043c\u043d\u0435: "}),e.aboutMe?e.aboutMe:"-"]}),(0,_.jsxs)("div",{className:C.aboutItem,children:[(0,_.jsx)("span",{className:C.aboutTitle,children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),e.lookingForAJob?"\u0434\u0430":"\u043d\u0435\u0442"]}),(0,_.jsxs)("div",{className:C.aboutItem,children:[(0,_.jsx)("div",{className:C.aboutTitle,children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438:"}),e.lookingForAJobDescription?e.lookingForAJobDescription:"-"]}),i.length>0&&(0,_.jsxs)("div",{className:C.aboutItem,children:[(0,_.jsx)("div",{className:C.aboutTitle,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),(0,_.jsx)("ul",{className:C.contactList,children:i.map((function(t){return(0,_.jsxs)("li",{children:[(0,_.jsxs)("span",{className:C.aboutTitle,children:[t,":"]}),(0,_.jsx)("a",{href:"https://".concat(e.contacts[t]),target:"_blank",rel:"noreferrer",children:"https://".concat(e.contacts[t])})]},t)}))})]})]})]})})},w=function(t){return(0,_.jsxs)("div",{children:[(0,_.jsx)(S,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto}),(0,_.jsx)(N,{store:t.store})]})},T=s(6871),F=s(7781),A=s(1548);var D=function(t){(0,n.Z)(s,t);var e=(0,a.Z)(s);function s(){var t;(0,r.Z)(this,s);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).getProfileData=function(){var e=null;t.props.router.params.userId?e=t.props.router.params.userId:t.props.auth.id?e=t.props.auth.id:t.props.router.navigate("/login"),e&&(t.props.getUserProfile(e),t.props.getStatus(e))},t.componentDidMount=function(){t.getProfileData()},t}return(0,o.Z)(s,[{key:"componentDidUpdate",value:function(t){t.router.params.userId!==this.props.router.params.userId&&this.getProfileData()}},{key:"render",value:function(){return(0,_.jsx)(_.Fragment,{children:this.props.profile?(0,_.jsx)(w,{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}):(0,_.jsx)("div",{children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})})}}]),s}(c.Component),G=(0,F.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,auth:t.auth}}),{getUserProfile:u.et,getStatus:u.lR,updateStatus:u.Nf,savePhoto:u.Ju}),(function(t){return function(e){var s=(0,T.TH)(),r=(0,T.s0)(),o=(0,T.UO)();return(0,_.jsx)(t,(0,i.Z)((0,i.Z)({},e),{},{router:{location:s,navigate:r,params:o}}))}}),A.D)(D)},816:function(t,e,s){s.d(e,{o:function(){return h},G:function(){return m}});var r=s(8683),o=s(5987),n=s(6139),a="FormControls_checkboxControl__33VzZ",i="FormControls_formControl__Bze--",l="FormControls_error__rGNdT",u="FormControls_errorText__5Si0-",c="FormControls_fieldWrap__e7QgK",d="FormControls_labelWrap__nm-sq",p=s(184),f=["input","meta","fieldType"],h=function(t){var e=t.input,s=t.meta,n=s.touched,a=s.error,h=t.fieldType,m=(0,o.Z)(t,f),x=n&&a;return(0,p.jsxs)("div",{className:i+" "+(x?l:""),children:[(0,p.jsx)("div",{className:c,children:"input"===h?(0,p.jsx)("input",(0,r.Z)((0,r.Z)({},e),m)):(0,p.jsx)("textarea",(0,r.Z)((0,r.Z)({},e),m))}),m.label&&(0,p.jsx)("div",{className:d,children:(0,p.jsx)("label",{for:m.id||"",children:m.label})}),x?(0,p.jsx)("div",{className:u,children:(0,p.jsx)("span",{children:a})}):""]})},m=function(t,e,s,o,i){var l=i.wrapClasses||"";return i.type&&"checkbox"===i.type&&(l+=a),(0,p.jsx)("div",{className:l,children:(0,p.jsx)(n.Z,(0,r.Z)({placeholder:t,name:e,validate:s,component:o},i))})}},1548:function(t,e,s){s.d(e,{D:function(){return l}});var r=s(8683),o=s(8687),n=s(6871),a=s(184),i=function(t){return{isAuth:t.auth.isAuth}},l=function(t){return(0,o.$j)(i)((function(e){return e.isAuth?(0,a.jsx)(t,(0,r.Z)({},e)):(0,a.jsx)(n.Fg,{to:"/login"})}))}},5304:function(t,e,s){s.d(e,{B:function(){return o},C:function(){return r}});var r=function(t){if(console.log("required"),!t||""===t)return"It is required field!"},o=function(t){return function(e){if(e&&e.length>t)return"You have exceeded the maximum message length(".concat(t,")")}}}}]);
//# sourceMappingURL=815.f0abdaa3.chunk.js.map