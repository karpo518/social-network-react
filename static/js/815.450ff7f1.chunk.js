"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[815],{5815:function(t,s,e){e.r(s),e.d(s,{default:function(){return M}});var r=e(5671),o=e(3144),n=e(136),a=e(5716),i=e(8683),u=e(8687),l=e(6070),c=e(2791),d=e(704),p=e(5304),f=e(816),h={postsBlock:"MyPosts_postsBlock__lB-pf",posts:"MyPosts_posts__GSiZ2"},m="Post_item__Yu4oG",x="Post_likesCount__LXQiZ",j=e(184),_=function(t){return(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("img",{src:"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_960_720.png",alt:"author img"}),t.message,(0,j.jsx)("div",{children:(0,j.jsxs)("span",{className:x,children:[t.likesCount," like(s)"]})})]})},v=(0,p.B)(300),g=c.memo((function(t){var s=t.posts.map((function(t){return(0,j.jsx)(_,{className:h.post,message:t.message,likesCount:t.likesCount},t.id)}));return(0,j.jsxs)("div",{className:h.postsBlock,children:[(0,j.jsx)("h3",{children:"My Posts"}),(0,j.jsx)(b,{onSubmit:function(s){t.sendPost(s.newPostBody)}}),(0,j.jsx)("div",{className:h.posts,children:s})]})})),b=(0,d.Z)({form:"ProfileAddPostForm"})((function(t){return(0,j.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.G)("Write your message here..","newPostBody",[p.C,v],f.o,{fieldType:"textarea"}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"Add post"})})]})})),N=g,P=(0,u.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{updateNewPostText:l.x1,sendPost:l.D2})(N),k=e(8911),I=e(8478),C={image:"ProfileInfo_image__Kkyc5",avatar:"ProfileInfo_avatar__1VFcV",descriptionBlock:"ProfileInfo_descriptionBlock__XBXuJ",aboutItem:"ProfileInfo_aboutItem__J2FXl",aboutTitle:"ProfileInfo_aboutTitle__zMikE",contactsBlock:"ProfileInfo_contactsBlock__cVFdA",contactList:"ProfileInfo_contactList__7p7ua",description:"ProfileInfo_description__u7GZ5",fullName:"ProfileInfo_fullName__3fR7R"},Z=e(3504),y=e(885),S=function(t){var s=(0,c.useState)(!1),e=(0,y.Z)(s,2),r=e[0],o=e[1],n=(0,c.useState)(t.status),a=(0,y.Z)(n,2),i=a[0],u=a[1];(0,c.useEffect)((function(){u(t.status)}),[t.status]);return(0,j.jsx)("div",{className:C.statusBlock,children:r?(0,j.jsx)("div",{children:(0,j.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(i)},onChange:function(t){u(t.currentTarget.value)},type:"text",value:i})}):(0,j.jsx)("div",{children:(0,j.jsx)("span",{onDoubleClick:function(){o(!0)},children:i})})})},B=function(t){var s=t.profile,e=t.status,r=t.updateStatus;if(!s)return(0,j.jsx)(k.Z,{});var o=Object.keys(s.contacts).filter((function(t){return s.contacts[t]}));return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:C.descriptionBlock,children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{className:C.avatar,src:null!=s.photos.large?s.photos.large:I,alt:"Profile avatar"})}),(0,j.jsx)(Z.OL,{to:"/dialogs/".concat(s.userId),className:C.startChat,children:"Send message"}),(0,j.jsxs)("div",{className:C.description,children:[(0,j.jsx)("div",{className:C.aboutItem,children:(0,j.jsx)("div",{className:C.fullName,children:s.fullName})}),(0,j.jsx)("div",{className:C.aboutItem,children:(0,j.jsx)(S,{status:e,updateStatus:r})}),(0,j.jsxs)("div",{className:C.aboutItem,children:[(0,j.jsx)("span",{className:C.aboutTitle,children:"\u041e\u0431\u043e \u043c\u043d\u0435: "}),s.aboutMe?s.aboutMe:"-"]}),(0,j.jsxs)("div",{className:C.aboutItem,children:[(0,j.jsx)("span",{className:C.aboutTitle,children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),s.lookingForAJob?"\u0434\u0430":"\u043d\u0435\u0442"]}),(0,j.jsxs)("div",{className:C.aboutItem,children:[(0,j.jsx)("div",{className:C.aboutTitle,children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438:"}),s.lookingForAJobDescription?s.lookingForAJobDescription:"-"]}),o.length>0&&(0,j.jsxs)("div",{className:C.aboutItem,children:[(0,j.jsx)("div",{className:C.aboutTitle,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),(0,j.jsx)("ul",{className:C.contactList,children:o.map((function(t){return(0,j.jsxs)("li",{children:[(0,j.jsxs)("span",{className:C.aboutTitle,children:[t,":"]}),(0,j.jsx)("a",{href:"https://".concat(s.contacts[t]),target:"_blank",rel:"noreferrer",children:"https://".concat(s.contacts[t])})]},t)}))})]})]})]})})},T=function(t){return(0,j.jsxs)("div",{children:[(0,j.jsx)(B,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,authData:t.authData}),(0,j.jsx)(P,{store:t.store})]})},F=e(6871),A=e(7781),D=e(1548);var w=function(t){(0,n.Z)(e,t);var s=(0,a.Z)(e);function e(){var t;(0,r.Z)(this,e);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=s.call.apply(s,[this].concat(n))).componentDidMount=function(){var s=null;t.props.router.params.userId?s=t.props.router.params.userId:t.props.auth.id?s=t.props.auth.id:t.props.router.navigate("/login"),s&&(t.props.getUserProfile(s),t.props.getStatus(s))},t}return(0,o.Z)(e,[{key:"componentDidUpdate",value:function(t){if(t.auth.id!==this.props.auth.id||t.router.params.userId!==this.props.router.params.userId){var s=null;this.props.router.params.userId?s=this.props.router.params.userId:this.props.auth.id&&(s=this.props.auth.id),s&&(this.props.getUserProfile(s),this.props.getStatus(s))}}},{key:"render",value:function(){return(0,j.jsx)(j.Fragment,{children:this.props.profile?(0,j.jsx)(T,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}):(0,j.jsx)("div",{children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})})}}]),e}(c.Component),M=(0,A.qC)((0,u.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,auth:t.auth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf}),(function(t){return function(s){var e=(0,F.TH)(),r=(0,F.s0)(),o=(0,F.UO)();return(0,j.jsx)(t,(0,i.Z)((0,i.Z)({},s),{},{router:{location:e,navigate:r,params:o}}))}}),D.D)(w)},816:function(t,s,e){e.d(s,{o:function(){return h},G:function(){return m}});var r=e(8683),o=e(5987),n=e(6139),a="FormControls_checkboxControl__33VzZ",i="FormControls_formControl__Bze--",u="FormControls_error__rGNdT",l="FormControls_errorText__5Si0-",c="FormControls_fieldWrap__e7QgK",d="FormControls_labelWrap__nm-sq",p=e(184),f=["input","meta","fieldType"],h=function(t){var s=t.input,e=t.meta,n=e.touched,a=e.error,h=t.fieldType,m=(0,o.Z)(t,f),x=n&&a;return(0,p.jsxs)("div",{className:i+" "+(x?u:""),children:[(0,p.jsx)("div",{className:c,children:"input"===h?(0,p.jsx)("input",(0,r.Z)((0,r.Z)({},s),m)):(0,p.jsx)("textarea",(0,r.Z)((0,r.Z)({},s),m))}),m.label&&(0,p.jsx)("div",{className:d,children:(0,p.jsx)("label",{for:m.id||"",children:m.label})}),x?(0,p.jsx)("div",{className:l,children:(0,p.jsx)("span",{children:a})}):""]})},m=function(t,s,e,o,i){var u=i.wrapClasses||"";return i.type&&"checkbox"===i.type&&(u+=a),(0,p.jsx)("div",{className:u,children:(0,p.jsx)(n.Z,(0,r.Z)({placeholder:t,name:s,validate:e,component:o},i))})}},1548:function(t,s,e){e.d(s,{D:function(){return u}});var r=e(8683),o=e(8687),n=e(6871),a=e(184),i=function(t){return{isAuth:t.auth.isAuth}},u=function(t){return(0,o.$j)(i)((function(s){return s.isAuth?(0,a.jsx)(t,(0,r.Z)({},s)):(0,a.jsx)(n.Fg,{to:"/login"})}))}},5304:function(t,s,e){e.d(s,{B:function(){return o},C:function(){return r}});var r=function(t){if(console.log("required"),!t||""===t)return"It is required field!"},o=function(t){return function(s){if(s&&s.length>t)return"You have exceeded the maximum message length(".concat(t,")")}}}}]);
//# sourceMappingURL=815.450ff7f1.chunk.js.map