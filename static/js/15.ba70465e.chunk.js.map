{"version":3,"file":"static/js/15.ba70465e.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Login/Login.module.css?3530","components/Login/LoginPage.tsx","webpack://my-app/./src/components/common/FormControls/FormControls.module.css?7a3d","components/common/FormControls/FormControls.tsx","utils/validators/validators.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Login_form__xawx9\",\"checkbox\":\"Login_checkbox__oyLjX\",\"checkboxWrap\":\"Login_checkboxWrap__1PPoj\",\"formControl\":\"Login_formControl__Yj7cj\",\"submit\":\"Login_submit__zALlr\",\"fieldContent\":\"Login_fieldContent__vK+x2\",\"errors\":\"Login_errors__c6sx5\"};","import { FC } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { login, TAuthActions, updateCaptchaUrl } from \"../../redux/auth-reducer\";\nimport { TAppState } from \"../../redux/redux-store\";\nimport { required } from \"../../utils/validators/validators\";\nimport { createField, InputArea } from \"../common/FormControls/FormControls\";\nimport s from \"./Login.module.css\";\n\n\nexport const LoginPage: FC = () => {\n  \n  const captchaUrl = useSelector((state: TAppState) => state.auth.captchaUrl)\n  const isAuth = useSelector((state: TAppState) => state.auth.isAuth)\n\n  const dispatch = useDispatch<ThunkDispatch<TAppState, unknown, TAuthActions>>()\n\n  const onUpdateCaptchaUrl = () => {\n    dispatch(updateCaptchaUrl)\n  }\n\n  const onSubmit = (formData: TFormData) => {\n    dispatch(login(formData))\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      {isAuth ? (\n        <div>You are logged in already!</div>\n      ) : (\n        <LoginReduxForm captchaUrl={captchaUrl} onUpdateCaptchaUrl={onUpdateCaptchaUrl} onSubmit={onSubmit} />\n      )}\n    </div>\n  );\n};\n\nexport type TFormData = {\n  email: string\n  password: string\n  rememberMe: boolean\n  apiKey: string\n  captcha?: string\n}\n\ntype TOwnProps = {\n  captchaUrl: string | null\n  onUpdateCaptchaUrl: () => void\n  onSubmit: (formData: any) => void\n}\n\ntype TFormProps = TOwnProps & InjectedFormProps<TFormData,TOwnProps>\n\nconst LoginForm: FC<TFormProps> = (props) => {\n    \n  return (\n    <form onSubmit={props.handleSubmit} className={s.form}>\n\n      { createField<TFormData>('E-mail', 'email', [required], InputArea, {type: 'text', fieldType: 'input'}) }\n      { createField<TFormData>('Password', 'password', [required], InputArea, {type: 'password', fieldType: 'input'}) }\n      { createField<TFormData>('API key', 'apiKey', [required], InputArea, {type: 'text', fieldType: 'input'}) }\n\n      { \n        props.captchaUrl && \n        ( <div>\n            <div className={s.fieldContent}>\n                <img onClick={props.onUpdateCaptchaUrl} src={props.captchaUrl} alt={'captcha text'} />\n            </div>\n            <div className={s.fieldControl} >\n                { createField<TFormData>('Image text', 'captcha', [required], InputArea, {type: 'text', fieldType: 'input'}) }\n            </div>\n        </div> )\n      }\n      <div>\n\n        { createField<TFormData>(null, 'rememberMe', [], InputArea, {type: 'checkbox', fieldType: 'input', label: 'Remember me', 'id': 'rememberMe' }) }\n\n      </div>\n      {props.error && <div className={s.errors} > {props.error}</div>}\n      <div>\n        <button className={s.submit}>Login</button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm<TFormData,TOwnProps>({ form: \"login\" })(LoginForm);\n","// extracted by mini-css-extract-plugin\nexport default {\"checkboxControl\":\"FormControls_checkboxControl__33VzZ\",\"formControl\":\"FormControls_formControl__Bze--\",\"error\":\"FormControls_error__rGNdT\",\"errorText\":\"FormControls_errorText__5Si0-\",\"fieldWrap\":\"FormControls_fieldWrap__e7QgK\",\"labelCheckboxWrap\":\"FormControls_labelCheckboxWrap__kXX0d\",\"labelTextWrap\":\"FormControls_labelTextWrap__nPV0n\"};","import { Component, FC } from 'react';\nimport { Field, WrappedFieldInputProps, WrappedFieldMetaProps } from \"redux-form\";\nimport { NestedKeyOf } from '../../../types/types';\nimport { FieldValidatorType } from \"../../../utils/validators/validators\";\nimport s from \"./FormControls.module.css\";\n\ntype PropsType = {\n  input: WrappedFieldInputProps\n  meta: WrappedFieldMetaProps\n  fieldType: string\n  id?: string\n  label?: string \n  type: 'textarea' | 'input' | 'checkbox' \n}\n\nexport const InputArea: FC<PropsType> = ({ input, meta: {touched, error}, fieldType, ...props }) => {\n  const hasError = touched && error;\n  return (\n    <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n      {props.label && props.type !== \"checkbox\" && (\n        <div className={`${s.labelTextWrap}`}>\n          <label htmlFor={props.id || \"\"}>{props.label}</label>\n        </div>\n      )}\n      \n      <div className={s.fieldWrap}>\n        {fieldType === \"input\" ? (\n          <input {...input} {...props} />\n        ) : (\n          <textarea {...input} {...props} />\n        )}\n      </div>\n      {props.label && props.type === \"checkbox\" && (\n        <div className={s.labelCheckboxWrap}>\n          <label htmlFor={props.id || \"\"}>{props.label}</label>\n        </div>\n      )}\n\n      {hasError ? (\n        <div className={s.errorText}>\n          <span>{error}</span>\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport function  createField<TFormData extends object>(\n  placeholder: string | null,\n  name: NestedKeyOf<TFormData>,\n  validators: Array<FieldValidatorType>,\n  component: string | Component<any,any,any> | FC<any>,\n  props: any\n)\n{\n  let wrapClasses = props.wrapClasses || \"\";\n\n  if (props.type && props.type === \"checkbox\") {\n    wrapClasses += s.checkboxControl;\n  }\n\n  return (\n    <div className={wrapClasses}>\n      <Field\n        placeholder={placeholder}\n        name={name}\n        validate={validators}\n        component={component}\n        {...props}\n      />\n    </div>\n  );\n};\n","export type FieldValidatorType = (field: string) => string | undefined\n\nexport const required: FieldValidatorType = (value: string): string | undefined => {\n    if(value && value !== '') {\n        return undefined\n    }\n\n    return 'It is required field!'\n}\n\nexport const maxLength = (maxLengthValue: number): FieldValidatorType => {\n    return (value) => {\n        if(value && value.length > maxLengthValue) {\n            return `You have exceeded the maximum message length(${maxLengthValue})`\n        }\n        \n        return undefined\n    }\n}"],"names":["LoginPage","captchaUrl","useSelector","state","auth","isAuth","dispatch","useDispatch","LoginReduxForm","onUpdateCaptchaUrl","updateCaptchaUrl","onSubmit","formData","login","reduxForm","form","props","handleSubmit","className","s","createField","required","InputArea","type","fieldType","onClick","src","alt","label","error","input","meta","touched","hasError","htmlFor","id","placeholder","name","validators","component","wrapClasses","Field","validate","value","maxLength","maxLengthValue","length"],"sourceRoot":""}