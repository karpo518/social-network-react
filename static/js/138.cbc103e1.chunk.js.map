{"version":3,"file":"static/js/138.cbc103e1.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Login/Login.module.css?3530","components/Login/Login.tsx","components/Login/LoginContainer.tsx","webpack://my-app/./src/components/common/FormControls/FormControls.module.css?7a3d","components/common/FormControls/FormControls.tsx","utils/validators/validators.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Login_form__xawx9\",\"checkbox\":\"Login_checkbox__oyLjX\",\"checkboxWrap\":\"Login_checkboxWrap__1PPoj\",\"formControl\":\"Login_formControl__Yj7cj\",\"submit\":\"Login_submit__zALlr\",\"fieldContent\":\"Login_fieldContent__vK+x2\",\"errors\":\"Login_errors__c6sx5\"};","import { FC } from \"react\";\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\nimport { required } from \"../../utils/validators/validators\";\nimport { createField, InputArea } from \"../common/FormControls/FormControls\";\nimport s from \"./Login.module.css\";\n\ntype PropsType = {\n  isAuth: boolean\n  captchaUrl: string | null\n  login: (formData: any) => void\n  updateCaptchaUrl: () => void\n}\n\nconst Login: FC<PropsType> = ({isAuth, captchaUrl, login, updateCaptchaUrl}) => {\n  const onSubmit = (formData: FormDataType) => {\n    login(formData);\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      {isAuth ? (\n        <div>You are logged in already!</div>\n      ) : (\n        <LoginReduxForm captchaUrl={captchaUrl} updateCaptchaUrl={updateCaptchaUrl} onSubmit={onSubmit} />\n      )}\n    </div>\n  );\n};\n\nexport type FormDataType = {\n  email: string\n  password: string\n  rememberMe: boolean\n  apiKey: string\n  captcha?: string\n}\n\ntype OwnPropsType = {\n  captchaUrl: string | null\n  updateCaptchaUrl: () => void\n  onSubmit: (formData: any) => void\n}\n\ntype FormPropsType = OwnPropsType & InjectedFormProps<FormDataType,OwnPropsType>\n\nconst LoginForm: FC<FormPropsType> = (props) => {\n    return (\n    <form onSubmit={props.handleSubmit} className={s.form}>\n\n      { createField<FormDataType>('E-mail', 'email', [required], InputArea, {type: 'text', fieldType: 'input'}) }\n      { createField<FormDataType>('Password', 'password', [required], InputArea, {type: 'password', fieldType: 'input'}) }\n      { createField<FormDataType>('API key', 'apiKey', [required], InputArea, {type: 'text', fieldType: 'input'}) }\n\n      { \n        props.captchaUrl && \n        ( <div>\n            <div className={s.fieldContent}>\n                <img onClick={props.updateCaptchaUrl} src={props.captchaUrl} alt={'captcha text'} />\n            </div>\n            <div className={s.fieldControl} >\n                { createField<FormDataType>('Image text', 'captcha', [required], InputArea, {type: 'text', fieldType: 'input'}) }\n            </div>\n        </div> )\n      }\n      <div>\n\n        { createField<FormDataType>(null, 'rememberMe', [], InputArea, {type: 'checkbox', fieldType: 'input', label: 'Remember me', 'id': 'rememberMe' }) }\n\n      </div>\n      {props.error && <div className={s.errors} > {props.error}</div>}\n      <div>\n        <button className={s.submit}>Login</button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm<FormDataType,OwnPropsType>({ form: \"login\" })(LoginForm);\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { login, updateCaptchaUrl } from \"../../redux/auth-reducer\";\nimport { compose } from \"redux\";\nimport Login from \"./Login\";\nimport { AppStateType } from \"../../redux/redux-store\";\n\ntype MapStatePropsType = {\n  isAuth: boolean,\n  captchaUrl: string | null\n}\n\ntype MapDispatchPropsType = {\n  login: (formData: any) => void\n  updateCaptchaUrl: () => void\n}\n\ntype MapOwnPropsType = {\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType & MapOwnPropsType\n\nclass LoginContainer extends Component<PropsType> {\n  \n  render () {\n\n    return (\n      <>\n        <Login isAuth={this.props.isAuth} captchaUrl={this.props.captchaUrl} login={this.props.login} updateCaptchaUrl={this.props.updateCaptchaUrl} />\n      </>\n    );\n  };\n}\n\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => ({\n  isAuth: state.auth.isAuth,\n  captchaUrl: state.auth.captchaUrl\n});\n\nexport default compose(\n  connect<MapStatePropsType, MapDispatchPropsType, MapOwnPropsType, AppStateType>(mapStateToProps, {login,updateCaptchaUrl}),\n)(LoginContainer)\n","// extracted by mini-css-extract-plugin\nexport default {\"checkboxControl\":\"FormControls_checkboxControl__33VzZ\",\"formControl\":\"FormControls_formControl__Bze--\",\"error\":\"FormControls_error__rGNdT\",\"errorText\":\"FormControls_errorText__5Si0-\",\"fieldWrap\":\"FormControls_fieldWrap__e7QgK\",\"labelCheckboxWrap\":\"FormControls_labelCheckboxWrap__kXX0d\",\"labelTextWrap\":\"FormControls_labelTextWrap__nPV0n\"};","import { Component, FC } from 'react';\nimport { CommonFieldProps, Field, WrappedFieldInputProps, WrappedFieldMetaProps } from \"redux-form\";\nimport { NestedKeyOf, TValueOf } from '../../../types/types';\nimport { FieldValidatorType } from \"../../../utils/validators/validators\";\nimport s from \"./FormControls.module.css\";\n\ntype PropsType = {\n  input: WrappedFieldInputProps\n  meta: WrappedFieldMetaProps\n  fieldType: string\n  id?: string\n  label?: string \n  type: 'textarea' | 'input' | 'checkbox' \n}\n\nexport const InputArea: FC<PropsType> = ({ input, meta: {touched, error}, fieldType, ...props }) => {\n  const hasError = touched && error;\n  console.log('input var:')\n  console.log(input)\n  console.log('props var:')\n  console.log(props)\n  return (\n    <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n      {props.label && props.type !== \"checkbox\" && (\n        <div className={`${s.labelTextWrap}`}>\n          <label htmlFor={props.id || \"\"}>{props.label}</label>\n        </div>\n      )}\n      \n      <div className={s.fieldWrap}>\n        {fieldType === \"input\" ? (\n          <input {...input} {...props} />\n        ) : (\n          <textarea {...input} {...props} />\n        )}\n      </div>\n      {props.label && props.type === \"checkbox\" && (\n        <div className={s.labelCheckboxWrap}>\n          <label htmlFor={props.id || \"\"}>{props.label}</label>\n        </div>\n      )}\n\n      {hasError ? (\n        <div className={s.errorText}>\n          <span>{error}</span>\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport function  createField<TFormData extends object>(\n  placeholder: string | null,\n  name: NestedKeyOf<TFormData>,\n  validators: Array<FieldValidatorType>,\n  component: string | Component<any,any,any> | FC<any>,\n  props: any\n)\n{\n  let wrapClasses = props.wrapClasses || \"\";\n\n  if (props.type && props.type === \"checkbox\") {\n    wrapClasses += s.checkboxControl;\n  }\n\n  return (\n    <div className={wrapClasses}>\n      <Field\n        placeholder={placeholder}\n        name={name}\n        validate={validators}\n        component={component}\n        {...props}\n      />\n    </div>\n  );\n};\n","export type FieldValidatorType = (field: string) => string | undefined\n\nexport const required: FieldValidatorType = (value: string): string | undefined => {\n    if(value && value !== '') {\n        return undefined\n    }\n\n    return 'It is required field!'\n}\n\nexport const maxLength = (maxLengthValue: number): FieldValidatorType => {\n    return (value) => {\n        if(value && value.length > maxLengthValue) {\n            return `You have exceeded the maximum message length(${maxLengthValue})`\n        }\n        \n        return undefined\n    }\n}"],"names":["LoginReduxForm","reduxForm","form","props","onSubmit","handleSubmit","className","s","createField","required","InputArea","type","fieldType","captchaUrl","onClick","updateCaptchaUrl","src","alt","label","error","isAuth","login","formData","LoginContainer","this","Component","compose","connect","state","auth","input","meta","touched","hasError","console","log","htmlFor","id","placeholder","name","validators","component","wrapClasses","Field","validate","value","maxLength","maxLengthValue","length"],"sourceRoot":""}