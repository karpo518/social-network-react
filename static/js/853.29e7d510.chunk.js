"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[853],{4853:function(n,e,s){s.r(e),s.d(e,{UsersPage:function(){return A}});var i=s(2791),r=s(8687),t=s(8386),a=(0,s(6916).P1)([function(n){return n.usersPage.users}],(function(n){return n.filter((function(n){return!0}))})),l=function(n){return n.usersPage.pageSize},o=function(n){return n.usersPage.totalUsersCount},c=function(n){return n.usersPage.currentPage},u=function(n){return n.usersPage.isFetching},d=function(n){return n.usersPage.followingInProgress},m=function(n){return n.usersPage.filter};var f=function(n){var e=(0,i.useRef)();return(0,i.useEffect)((function(){e.current=n}),[n]),e.current},_=s(4942),h=s(885),g=s(1694),x=s.n(g),j="Paginator_selectedPage__CRNLp",v="Paginator_pagination__Imaqt",p="Paginator_beforePortion__gx-B8",N="Paginator_afterPortion__EStLX",C=s(184),P=function(n){for(var e=n.totalItemsCount,s=n.pageSize,r=n.currentPage,t=n.onPageChanged,a=n.portionSize,l=void 0===a?10:a,o=function(n){return Math.floor(n/l)+1},c=Math.ceil(e/s),u=[],d=1;d<=c;d++)u.push(d);var m=Math.ceil(c/l),f=(0,i.useState)(o(r)),g=(0,h.Z)(f,2),P=g[0],U=g[1],b=(P-1)*l+1,F=(P-1)*l+l,w=function(n){U(n)},k=function(n){t(n);var e=o(n);e!==P&&U(e)};return c<2?(0,C.jsx)(C.Fragment,{}):(0,C.jsxs)("div",{className:v,children:[P>1&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{onClick:function(){return k(1)},children:"1"},"1"),(0,C.jsx)("span",{onClick:function(){return w(P-1)},className:p,children:"<<"})]}),u.filter((function(n){return n>=b&&n<=F})).map((function(n){return(0,C.jsx)("span",{onClick:function(){return k(n)},className:x()((0,_.Z)({},j,r===n)),children:n},n)})),P<m&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{onClick:function(){return w(P+1)},className:N,children:">>"}),(0,C.jsx)("span",{onClick:function(){return k(c)},children:c},c)]})]})},U=s(3079),b=s(5705),F=s(3881),w=s.n(F),k="Users_inputsBlock__OiQga",S="Users_fieldItem__QXuIi",y="Users_fileItemIsFriend__V9TU9",I="Users_term__67Z-6",L="Users_isFriend__bJWqe",Y=function(n){return{}},Z=function(){var n=(0,b.u6)(),e=n.values,s=n.initialValues,r=n.submitForm;return(0,i.useEffect)((function(){e!==s&&r()}),[e,s,r]),null},Q=i.memo((function(n){var e=(0,r.v9)(m),s=w()((function(e,s){var i=s.setSubmitting;n.onFilterChanged(e),i(!1)}),1e3,{leading:!1});return(0,C.jsx)("div",{className:k,children:(0,C.jsx)(b.J9,{initialValues:e,validate:Y,onSubmit:s,children:function(n){n.values,n.isSubmitting;return(0,C.jsxs)(b.l0,{children:[(0,C.jsx)(Z,{}),(0,C.jsxs)("div",{className:x()(S,y),children:[(0,C.jsx)("label",{htmlFor:"isFriend",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,C.jsxs)(b.gN,{className:L,name:"isFriend",as:"select",children:[(0,C.jsx)("option",{value:t.Y1.Any,children:"\u041b\u044e\u0431\u043e\u0439"}),(0,C.jsx)("option",{value:t.Y1.Yes,children:"\u0422\u0435, \u043d\u0430 \u043a\u043e\u0433\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"}),(0,C.jsx)("option",{value:t.Y1.No,children:"\u0422\u0435, \u043d\u0430 \u043a\u043e\u0433\u043e \u041d\u0415 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"})]})]}),(0,C.jsxs)("div",{className:S,children:[(0,C.jsx)("label",{htmlFor:"term",children:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,C.jsx)(b.gN,{className:I,type:"text",name:"term"})]})]})}})})})),z={user:"User_user__vm1W0",imageCol:"User_imageCol__zWKZj",mainCol:"User_mainCol__yLpQ+",image:"User_image__-QAvZ",btn:"User_btn__NQ8ct",btnFollow:"User_btnFollow__uXb79",name:"User_name__Sid3D",mainLeft:"User_mainLeft__AkKBC",mainRight:"User_mainRight__nLT7o",location:"User_location__774Ci",status:"User_status__9rxXe",preloader:"User_preloader__63gEQ"},E=s(8478),R=s(3504),X=function(n){var e=n.user,s=n.onFollow,i=n.onUnfollow,t=(0,r.v9)(d);return(0,C.jsxs)("div",{className:z.user,children:[(0,C.jsxs)("div",{className:z.imageCol,children:[(0,C.jsx)(R.OL,{to:"/profile/"+e.id,children:(0,C.jsx)("img",{className:z.image,src:null!=e.photos.small?e.photos.small:E,alt:"Profile avatar"})}),(0,C.jsx)("div",{children:e.followed?(0,C.jsx)("button",{onClick:function(){i(e.id)},className:"".concat(z.btn," ").concat(z.btnFollow),disabled:t.some((function(n){return n===e.id})),children:"Unfollow"}):(0,C.jsx)("button",{onClick:function(){s(e.id)},className:"".concat(z.btn," ").concat(z.btnUnfollow),disabled:t.some((function(n){return n===e.id})),children:"Follow"})})]}),(0,C.jsxs)("div",{className:z.mainCol,children:[(0,C.jsxs)("div",{className:z.mainLeft,children:[(0,C.jsx)("div",{className:z.name,children:e.name}),(0,C.jsx)("div",{className:z.status,children:e.status})]}),(0,C.jsx)("div",{className:z.mainRight,children:(0,C.jsxs)("div",{className:z.location,children:[(0,C.jsxs)("div",{className:z.city,children:[(0,C.jsx)("span",{children:"user.location.city"}),","]}),(0,C.jsx)("div",{className:z.country,children:(0,C.jsx)("span",{children:"user.location.country"})})]})})]})]},e.id)},A=function(){var n=(0,r.v9)(a),e=(0,r.v9)(o),s=(0,r.v9)(c),d=(0,r.v9)(l),_=(0,r.v9)(u),h=(0,r.v9)(m),g=(0,r.I0)(),x=function(n){g((0,t.ZN)(n))},j=function(n){g((0,t.fv)(n))},v=(f(h)||h)!==h?1:s;return(0,i.useEffect)((function(){s!==v&&g(t.Yi.setCurrentPage(1)),g((0,t.p_)(s,d,h.isFriend,h.term))}),[s,d,v,h,g]),(0,C.jsxs)("div",{children:[(0,C.jsx)("h2",{children:"Users"}),(0,C.jsx)(Q,{onFilterChanged:function(n){g(t.Yi.setFilter(n))}}),(0,C.jsx)(P,{totalItemsCount:e,pageSize:d,onPageChanged:function(n){g(t.Yi.setCurrentPage(n))},currentPage:s}),(0,C.jsx)("div",{children:_?(0,C.jsx)(U.Z,{}):n.map((function(n){return(0,C.jsx)(X,{user:n,onFollow:x,onUnfollow:j},n.id)}))})]})}}}]);
//# sourceMappingURL=853.29e7d510.chunk.js.map